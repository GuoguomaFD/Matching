ReadMe: 

Codes and Data for 
“Force of Attraction and Partner Availability in the US Marriage Market: A Two-Sided Matching Model” by Yuan Cheng, John K. Dagsvik, Xuehui Han, and Zhiyang Jia, Sociological Science, forthcoming. 

Download all code and data files into your working folder, and update the file paths in all code files accordingly.

Program 1 Clean data for 2010 usa_00001
Program 1 Clean data for 2019 usa_00002 
Contains code to download and clean the 1% ACS data, producing data used for model estimation. Generate Counts of Marriages and Singles by Group. Unweighted. Table A.1

Program 1a Clean data for 2010 usa_00001 Weighted
Program 1a Clean data for 2019 usa_00002 Weighted
Generate Counts of Marriages and Singles by Group. Weighted. Table A.2


Program 2 Estimate Cij for Age Race Edu 2019 18 Category
Program 3 Estimate Cij for Age Race Edu 2010 18 Category
These can be run directly to generate the estimates presented in Table A.3.


Program 4 Simulate preference change from 2010 to 2019 with remaining as choiceset
Generates Tables A.4 and A.5.


Program 5 Simulate choice set change from 2010 to 2019 females and males separate
Generates Tables A.6 and A.7.


Program 6 Likelihood ratio test 2019 and 2010 and preference comparisons
Carries out the likelihood ratio test in Section 5.2 on changes in the force of attraction between 2010 and 2019.


Program 7 Calculate the exchange index 2019 with New Equation
Program 8 Calculate the exchange index 2010 with New Equation
Generates the exchange indices presented in Table 5.


Program 9 Use Cij for Age Race Edu 2010 18 Category simulate odds ratio
Calculates the odds ratios presented in Table 6.


Program 10 Plot utility of age difference comparable to Logan
Generates Figure 4 on the impact of age differences on utility.


Program 11 Calculate transfer 2019 and 2010
Generates Tables A.8 and A.9.

Program 12 Plot Figure 1 Selected Cij
Generate Figure 1 Estimated Cij for Selected Matching Groups

Program 13 to Cross tabulate weighted and unweighted Table 1 to 4
Calculate the Cross Tabulation Tables 1-4


Excel File "Matches Matrix Table Template.xlsx" 
Includes Figures A1 and A2, and Tables A.1–A.9 based on the code-generated estimation results.


Excel File "Plot Beginning Females and Males 2010 vs 2019 18 groups.xlsx"
Includes Figures 2 and 3 based on the code-generated estimation results.





